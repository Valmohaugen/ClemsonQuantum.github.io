<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Get Involved</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=search" />
  <style>
    /* Reset to ensure full width */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      width: 100%;
      overflow-x: hidden;
    }

    body {
      background: #f8f4ec;
      margin: 0;
      padding: 0;
    }

    /* Navigation - ensure full width */
    .nav {
      background: transparent !important;
      box-shadow: none !important;
      position: static; /* <-- Change from fixed to static */
      width: 100vw;
      z-index: 2000;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .nav,
    .nav a,
    .nav .dropdown-btn {
      color: #3a185c !important;
    }

    .nav a:visited,
    .nav a:active {
      color: #3a185c !important;
    }

    /* Desktop navigation */
    @media (min-width: 361px) {
      .nav .nav-bubble {
        display: none !important;
      }

      .nav .nav-links {
        display: flex !important;
        flex-direction: row;
        position: static;
        background: transparent;
        box-shadow: none;
        width: 100%;
        padding: 1rem 2rem;
        justify-content: center !important;
        align-items: center !important;
        gap: 2rem;
      }

      .nav .nav-links a,
      .nav .nav-links .dropdown-btn {
        text-decoration: none;
        padding: 0.5rem 1rem;
        transition: opacity 0.3s;
        font-size: 1.1rem;
        white-space: nowrap; /* Prevent line break */
      }

      .nav .nav-links a:hover,
      .nav .nav-links .dropdown-btn:hover {
        opacity: 0.7;
      }

      .dropdown {
        position: relative;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        background: #fff;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        min-width: 200px;
        top: 100%;
        left: 0;
        z-index: 1000;
      }

      .dropdown:hover .dropdown-content {
        display: block;
      }

      .dropdown-content a {
        display: block;
        padding: 0.75rem 1rem;
        color: #3a185c !important;
        text-decoration: none;
        transition: background 0.3s;
      }

      .dropdown-content a:hover {
        background: #f0f0f0;
      }

      .dropdown-submenu {
        position: relative;
      }

      .dropdown-submenu .dropdown-content {
        display: none;
        position: absolute;
        left: 100%;
        top: 0;
        background: #fff;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        min-width: 250px; /* Make it slightly wider for longer hackathon names */
        z-index: 1001;
      }

      .dropdown-submenu:hover .dropdown-content {
        display: block;
      }

      .dropdown-submenu .dropdown-content a {
        display: block;
        padding: 0.75rem 1rem;
        color: #3a185c !important;
        text-decoration: none;
        transition: background 0.3s;
      }

      .dropdown-submenu .dropdown-content a:hover {
        background: #f0f0f0;
      }

      .dropdown-submenu .dropdown-btn {
        position: relative;
      }

      .dropdown-submenu .dropdown-btn:after {
        content: "▶";
        position: absolute;
        right: 1rem;
        font-size: 0.8rem;
        color: #3a185c;
      }

      .search {
        display: flex;
        align-items: center;
        background: transparent !important; /* Make search bar background transparent */
        border-radius: 20px;
        padding: 0.5rem 1rem;
        box-shadow: none !important; /* Remove box shadow if present */
      }

      .search-input {
        border: none;
        outline: none;
        padding: 0 0.5rem;
        background: transparent;
      }
    }

    /* Mobile navigation */
    @media (max-width: 360px) {
      .nav {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        transition: top 0.3s;
      }

      .nav .nav-bubble {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: #fff;
        box-shadow: 0 2px 12px rgba(58, 24, 92, 0.12);
        position: fixed;
        top: 16px;
        right: 16px;
        z-index: 1001;
        border: 2px solid #3a185c;
        cursor: pointer;
        transition: box-shadow 0.2s;
      }

      .nav .nav-bubble span {
        font-size: 2.2rem;
        color: #3a185c;
        margin: auto;
        pointer-events: none;
        user-select: none;
      }

      .nav .nav-links {
        display: none;
        flex-direction: column;
        background: #fff;
        position: fixed;
        top: 80px;
        right: 16px;
        width: 85vw;
        max-width: 320px;
        box-shadow: 0 8px 32px rgba(58, 24, 92, 0.18);
        border-radius: 18px;
        z-index: 1002;
        padding: 1.5rem 1rem 1rem 1rem;
        animation: navBubbleFadeIn 0.2s;
      }

      .nav .nav-links.show {
        display: flex;
      }

      .nav .nav-links a,
      .nav .nav-links .dropdown-btn {
        color: #3a185c !important;
        padding: 1rem 0.5rem;
        text-align: left;
        border-bottom: 1px solid #eee;
        font-size: 1.1rem;
        text-decoration: none;
      }

      .nav .nav-links .dropdown-content,
      .nav .nav-links .dropdown-submenu .dropdown-content {
        position: static;
        box-shadow: none;
        background: none;
        display: block;
        border-radius: 0;
        padding-left: 1rem;
      }

      .nav .nav-links .dropdown-content a {
        padding: 0.5rem 0;
        border: none;
      }

      .nav .nav-links .dropdown-submenu .dropdown-btn {
        font-weight: bold;
        padding-left: 0;
      }

      .nav>div,
      .nav>form {
        display: none;
      }

      @keyframes navBubbleFadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    }

    /* Main content */
    main {
      padding-top: 32px;
      margin-bottom: 0; /* Remove any default margin */
    }

    h1 {
      font-family: Garamond;
      font-size: 48px;
      text-align: center;
      color: #3a185c;
      text-shadow: 2px 2px 12px rgb(255, 255, 255);
      padding: 0 1rem;
      margin-bottom: 12px; /* Reduce space below the heading */
    }

    /* About section */
    section {
      max-width: 700px;
      margin: 0 auto 0 auto; /* Remove top margin */
      padding: 2rem 2rem 1.5rem 2rem;
    }

    section h2 {
      color: #3a185c;
      text-align: center;
      margin-top: 0;
    }

    section p {
      color: #3a185c;
      font-size: 1.15rem;
      text-align: center;
      margin-bottom: 0;
    }

    /* Gallery */
    .gallery-wrap {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      margin: 3rem auto;
      max-width: 1200px;
    }

    .gallery {
      width: 900px;
      max-width: calc(100vw - 120px);
      overflow-x: auto;
      scroll-behavior: smooth;
      scrollbar-width: none;
      display: flex; /* Single row layout */
      gap: 20px; /* Space between items */
      padding: 10px 0; /* Add padding for hover scaling */
    }

    .gallery::-webkit-scrollbar {
      display: none;
    }

    .gallery span {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-shrink: 0; /* Prevent shrinking */
    }

    .gallery img {
      width: 280px;
      height: 200px;
      object-fit: cover;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .gallery img:hover {
      transform: scale(1.15); /* Larger scaling on hover */
      z-index: 10;
      position: relative;
    }

    .gallery-caption {
      margin-top: 8px;
      font-size: 0.9rem;
      color: #3a185c;
      text-align: center;
      font-weight: 500;
      max-width: 280px;
      line-height: 1.3;
    }

    #backBtn, #nextBtn {
      width: 40px;
      height: 40px;
      cursor: pointer;
      margin: 0 10px;
    }

    /* Organizer cards */
    .organizer-cards {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;
      width: 100%;
      margin-bottom: 3rem;
    }

    .card {
      display: none;
      box-shadow: none !important;
      background: none !important;
      border: none !important;
    }

    .organizer-row {
      display: flex;
      align-items: center;
      padding: 24px 32px;
      width: 800px;      /* Increased from 600px */
      max-width: 95%;
      margin: 0 auto;
      background: none !important;
      border-radius: 16px;
      box-shadow: none !important;    /* Remove shadow on desktop */
    }

    .organizer-row h2 {
      margin: 0 0 10px 0;
      color: #3a185c;
      font-size: 1.1rem; /* Smaller font size */
    }

    .organizer-row p {
      margin: 0 0 6px 0;
      color: #3a185c;
      font-size: 0.95rem; /* Smaller font size */
    }

    .organizer-row img {
      width: 35px;
      height: 35px;
      /* min-width: 140px; Ensure minimum size */
      border-radius: 50%;
      object-fit: cover;
      margin-right: 32px;
      background: #fff;
      flex-shrink: 0; /* Prevent shrinking */
    }

    /* Mobile card styles */
    @media (max-width: 500px) {
      .organizer-row {
        display: none;
      }

      .card {
        display: block;
        width: 95vw;      /* Make the card almost as wide as the viewport */
        max-width: 400px; /* Increase max width */
        height: 420px;    /* Optional: slightly taller for more content */
        perspective: 1000px;
        margin: 0 auto 3rem auto;
        background: none;
        box-shadow: none;
      }

      .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.6s;
        transform-style: preserve-3d;
      }

      .card.flipped .card-inner {
        transform: rotateY(180deg);
      }

      .front,
      .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 2rem 1rem;
        color: #3a185c;
      }

      .front h2,
      .back h2 {
        position: absolute;
        top: 1.2rem;
        left: 50%;
        transform: translateX(-50%);
        margin: 0;
        width: 90%;
        text-align: center;
        font-size: 1.5rem;
        font-weight: bold;
        color: #3a185c;
        z-index: 2;
        background: none;
      }

      .front img,
      .back img {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 1rem;
        background: #fff;
      }

      .back {
        transform: rotateY(180deg);
      }

      .card button {
        margin-top: 1rem;
        padding: 0.5rem 1.2rem;
        border-radius: 8px;
        border: none;
        background: #3a185c;
        color: #fff;
        font-weight: bold;
        cursor: pointer;
      }
    }

    .search {
  position: relative; /* Add this for dropdown positioning */
}

.search-highlight {
  background: yellow;
  padding: 2px 4px;
  border-radius: 3px;
}

.search-results a:last-child {
  border-bottom: none;
}
  </style>
</head>

<body>
  <!-- Navigation bar -->
  <div class="nav">
    <button class="nav-bubble" id="navBubble" aria-label="Open navigation">
      <span>&#9776;</span>
    </button>
    <div class="nav-links" id="navLinks">
      <a href="/index.html"> <img src="images/logo.png" height="40" style="vertical-align: middle;"> </a>
      <a href="/news.html">News</a>

      <!-- Dropdown menu for Events -->
      <div class="dropdown">
        <a href="/events/events.html" class="dropdown-btn">Events</a>
        <div class="dropdown-content">
          <a href="/events/upcoming-events.html">Upcoming Events</a>

          <div class="dropdown-submenu">
            <a href="/events/hackathons/hackathons.html" class="dropdown-btn">Hackathons</a>
            <div class="dropdown-content">
              <a href="/events/hackathons/2026-Clemson-Hackathon.html">Clemson Hackathon 2026</a>
              <a href="/events/hackathons/2025-SC-Quantathon-v2.html">SC Quantathon v2 2025</a>
              <a href="/events/hackathons/2025-NYUAD.html">NYUAD 2025</a>
              <a href="/events/hackathons/2025-Y-Quantum.html">Y Quantum 2025</a>
              <a href="/events/hackathons/2025-iQuHack.html">iQuHack 2025</a>
              <a href="/events/hackathons/2024-SC-Quantathon-v1.html">SC Quantathon v1 2024</a>
            </div>
          </div>

          <a href="/events/workshops-and-seminars.html">Workshops & Seminars</a>
          <a href="/events/events.html">All Events</a>
        </div>
      </div>

      <!-- Dropdown for Resources -->
      <div class="dropdown">
        <a href="/resources/resources.html" class="dropdown-btn">Resources</a>
        <div class="dropdown-content">
          <a href="/resources/student-work-and-projects.html">Student Work & Projects</a>
          <a href="/resources/learning-resources.html">Learning Resources</a>
          <a href="/resources/internships.html">Internships</a>
          <a href="/resources/resources.html">All Resources</a>
        </div>
      </div>

      <a href="/get-involved.html">Get Involved</a>

      <!-- Search bar -->
      <form>
        <div class="search">
          <span class="material-symbols-outlined">search</span>
          <input class="search-input" type="search" placeholder="Search">
        </div>
      </form>
    </div>
  </div>

  <main>
    <h1>Welcome to the Clemson Quantum Club!</h1>
  </main>

  <section>
    <p>
      The Clemson Quantum Club is a student-led organization dedicated to exploring and advancing the field of quantum computing and quantum information science. We welcome students from all backgrounds and majors who are interested in the
      fascinating world of quantum technologies.
    </p>
    <p style="margin-top: 1rem;">
      Join us for engaging talks, hands-on workshops, and collaborative projects that aim to demystify quantum computing and empower the next generation of quantum innovators.
    </p>
  </section>

  <div class="gallery-wrap">
    <img src="images/back.png" id="backBtn">

    <div class="gallery">
      <span onclick="window.open('/events/quantum-chess-march-2025.html', '_blank')">
        <img src="images/image-1.jpg">
        <p class="gallery-caption">Quantum Chess - March 2025</p>
      </span>
      <span onclick="window.open('/events/quantum-chess-march-2025.html', '_blank')">
        <img src="images/image-2.jpg">
        <p class="gallery-caption">Quantum Chess - March 2025</p>
      </span>
      <span onclick="window.open('/events/hackathons/2024-SC-Quantathon-v1.html', '_blank')">
        <img src="images/image-3.jpeg">
        <p class="gallery-caption">SC Quantathon v1 - October 2024</p>
      </span>
      <span onclick="window.open('/events/hackathons/2025-iQuHack.html', '_blank')">
        <img src="images/image-4.jpg">
        <p class="gallery-caption">MIT iQuHack - February 2025</p>
      </span>
      <span onclick="window.open('/about/members.html', '_blank')">
        <img src="images/image-5.png">
        <p class="gallery-caption">Varun</p>
      </span>
      <span onclick="window.open('/about/club-photos.html', '_blank')">
        <img src="images/image-6.jpg">
        <p class="gallery-caption">The Club</p>
      </span>
    </div>

    <img src="images/next.png" id="nextBtn">
  </div>

  <h1>Organizers</h1>

  <div class="organizer-cards">

    <!-- Desktop/large screen row cards -->
    <div class="organizer-row">
      <img src="images/Nathan.jpeg" alt="Nathan Jones" style="width: 160px; height: 160px; border-radius: 50%; object-fit: cover; margin-right: 32px; background: #fff;">
      <div>
        <h2 style="margin: 0 0 10px 0; color: #3a185c;">Nathan Jones | President</h2>
        <p style="margin: 0 0 6px 0; color: #3a185c;">CS Ph.D. Candidate and Clemson Alumnus</p>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Research in Quantum Machine Learning, Variational Quantum Algorithms, and High Performance Computing</p>
        <a href="https://www.linkedin.com/in/njonescomputing/" target="_blank">
          <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
        </a>
      </div>
    </div>
    <div class="organizer-row">
      <img src="images/Valentine.jpg" alt="Valentine Mohaugen" style="width: 160px; height: 160px; border-radius: 50%; object-fit: cover; margin-right: 32px; background: #fff;">
      <div>
        <h2 style="margin: 0 0 10px 0; color: #3a185c;">Valentine Mohaugen | Vice President</h2>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Senior in Physics</p>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Research in Topological Materials and Quantum Error Correction</p>
        <a href="https://www.linkedin.com/in/valentine-mohaugen/" target="_blank">
          <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
        </a>
      </div>
    </div>
    <div class="organizer-row">
      <img src="images/Evan.jpg" alt="Evan Hall" style="width: 160px; height: 160px; border-radius: 50%; object-fit: cover; margin-right: 32px; background: #fff;">
      <div>
        <h2 style="margin: 0 0 10px 0; color: #3a185c;">Evan Hall | Treasurer</h2>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Math Ph.D. candidate and Clemson Alumnus</p>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Research in Quantum Error Correction</p>
        <a href="https://www.linkedin.com/in/evanlandonhall/" target="_blank">
          <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
        </a>
      </div>
    </div>
    <div class="organizer-row">
      <img src="images/Rong.jpg" alt="Rong Ge" style="width: 160px; height: 160px; border-radius: 50%; object-fit: cover; margin-right: 32px; background: #fff;">
      <div>
        <h2 style="margin: 0 0 10px 0; color: #3a185c;">Rong Ge | Advisor</h2>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Professor in the School of Computing</p>
        <p style="margin: 0 0 6px 0; color: #3a185c;">Research in High Performance Computing, Parallel and Distributed Systems, and Performance and Power Analysis and Modeling</p>
        <a href="https://www.linkedin.com/in/rong-ge-64416719/" target="_blank">
          <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
        </a>
      </div>
    </div>

    <!-- Flippable cards for mobile/small screens -->
    <div class="card">
      <div class="card-inner">
        <div class="front">
          <img src="images/Nathan.jpeg" alt="Nathan Jones">
          <h2>Nathan Jones</h2>
          <button type="button" onclick="this.closest('.card').classList.add('flipped')">About</button>
        </div>
        <div class="back">
          <h2>Nathan Jones</h2>
          <p>President</p>
          <p>CS PhD Candidate and Clemson Alumnus</p>
          <p>Work in ...</p>
          <a href="https://www.linkedin.com/in/njonescomputing/" target="_blank">
            <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
          </a>
          <button type="button" onclick="this.closest('.card').classList.remove('flipped')">Back</button>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-inner">
        <div class="front">
          <img src="images/Valentine.jpg" alt="Valentine Mohaugen">
          <h2>Valentine Mohaugen</h2>
          <button type="button" onclick="this.closest('.card').classList.add('flipped')">About</button>
        </div>
        <div class="back">
          <h2>Valentine Mohaugen</h2>
          <p>Vice President</p>
          <p>Senior in Physics</p>
          <p>Work in ...</p>
          <a href="https://www.linkedin.com/in/valentine-mohaugen/" target="_blank">
            <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
          </a>
          <button type="button" onclick="this.closest('.card').classList.remove('flipped')">Back</button>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-inner">
        <div class="front">
          <img src="images/Evan.jpg" alt="Evan Hall">
          <h2>Evan Hall</h2>
          <button type="button" onclick="this.closest('.card').classList.add('flipped')">About</button>
        </div>
        <div class="back">
          <h2>Evan Hall</h2>
          <p>Treasurer</p>
          <p>Math Ph.D. candidate and Clemson Alumnus</p>
          <p>Work in ...</p>
          <a href="https://www.linkedin.com/in/evanlandonhall/" target="_blank">
            <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
          </a>
          <button type="button" onclick="this.closest('.card').classList.remove('flipped')">Back</button>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-inner">
        <div class="front">
          <img src="images/Rong.jpg" alt="Rong Ge">
          <h2>Rong Ge</h2>
          <button type="button" onclick="this.closest('.card').classList.add('flipped')">About</button>
        </div>
        <div class="back">
          <h2>Rong Ge</h2>
          <p>Advisor</p>
          <p>Professor in the School of Computing</p>
          <p>Work in ...</p>
          <a href="https://www.linkedin.com/in/rong-ge-64416719/" target="_blank">
            <img src="images/linkedin.png" alt="LinkedIn Profile" style="height: 32px;">
          </a>
          <button type="button" onclick="this.closest('.card').classList.remove('flipped')">Back</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Gallery scroll functionality
    let scrollContainer = document.querySelector(".gallery");
    let backBtn = document.getElementById("backBtn");
    let nextBtn = document.getElementById("nextBtn");

    scrollContainer.addEventListener("wheel", (evt) => {
      evt.preventDefault();
      scrollContainer.scrollLeft += evt.deltaY;
      scrollContainer.style.scrollBehavior = "auto";
    });

    nextBtn.addEventListener("click", () => {
      scrollContainer.style.scrollBehavior = "smooth";
      scrollContainer.scrollLeft += 320; /* Scroll by one image width + gap */
    });

    backBtn.addEventListener("click", () => {
      scrollContainer.style.scrollBehavior = "smooth";
      scrollContainer.scrollLeft -= 320; /* Scroll by one image width + gap */
    });

    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      const navBubble = document.getElementById('navBubble');
      const navLinks = document.getElementById('navLinks');
      
      if (navBubble) {
        navBubble.addEventListener('click', function() {
          navLinks.classList.toggle('show');
        });
      }
      
      // Close menu when clicking outside
      document.addEventListener('click', function(e) {
        if (navBubble && !navBubble.contains(e.target) && !navLinks.contains(e.target)) {
          navLinks.classList.remove('show');
        }
      });
    });

    // Dropdown search results
    document.addEventListener('DOMContentLoaded', function() {
      const searchInput = document.querySelector('.search-input');
      const searchContainer = document.querySelector('.search');
      
      if (!searchInput || !searchContainer) return;
      
      // Create results dropdown
      const resultsDropdown = document.createElement('div');
      resultsDropdown.className = 'search-results';
      resultsDropdown.style.cssText = `
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        max-height: 300px;
        overflow-y: auto;
        z-index: 1000;
        display: none;
      `;
      searchContainer.appendChild(resultsDropdown);
      
      // Function to extract searchable content from the page
      function extractPageContent() {
        const content = [];
        
        // Get all headings
        document.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach(heading => {
          const text = heading.textContent.trim();
          if (text) {
            content.push({
              title: text,
              element: heading,
              type: 'heading',
              context: getContextText(heading)
            });
          }
        });
        
        // Get organizer information
        document.querySelectorAll('.organizer-row').forEach(row => {
          const nameElement = row.querySelector('h2');
          const description = row.querySelector('p');
          if (nameElement) {
            const fullText = nameElement.textContent.trim();
            const descText = description ? description.textContent.trim() : '';
            content.push({
              title: fullText,
              element: row,
              type: 'person',
              context: descText
            });
          }
        });
        
        // Get navigation links
        document.querySelectorAll('.nav a, .dropdown-content a').forEach(link => {
          const text = link.textContent.trim();
          if (text && !text.includes('▶') && text !== '') {
            content.push({
              title: text,
              url: link.getAttribute('href'),
              type: 'page',
              context: 'Navigation link'
            });
          }
        });
        
        // Get paragraph content
        document.querySelectorAll('section p, main p').forEach(paragraph => {
          const text = paragraph.textContent.trim();
          if (text.length > 20) { // Only include substantial paragraphs
            const words = text.split(' ').slice(0, 10).join(' '); // First 10 words
            content.push({
              title: words + (text.split(' ').length > 10 ? '...' : ''),
              element: paragraph,
              type: 'content',
              context: text.substring(0, 100) + (text.length > 100 ? '...' : '')
            });
          }
        });
        
        return content;
      }
      
      function getContextText(element) {
        const nextElement = element.nextElementSibling;
        if (nextElement && nextElement.tagName === 'P') {
          const text = nextElement.textContent.trim();
          return text.substring(0, 80) + (text.length > 80 ? '...' : '');
        }
        return '';
      }
      
      searchInput.addEventListener('input', function() {
        const query = this.value.trim().toLowerCase();
        
        if (query.length < 2) {
          resultsDropdown.style.display = 'none';
          return;
        }
        
        // Extract fresh content each time (in case page content changed)
        const pageContent = extractPageContent();
        
        // Search through all content
        const results = pageContent.filter(item => 
          item.title.toLowerCase().includes(query) ||
          (item.context && item.context.toLowerCase().includes(query))
        ).slice(0, 8); // Limit to 8 results
        
        displayResults(results, query);
      });
      
      function displayResults(results, query) {
        if (results.length === 0) {
          resultsDropdown.innerHTML = '<div style="padding: 1rem; color: #666;">No results found</div>';
          resultsDropdown.style.display = 'block';
          return;
        }
        
        resultsDropdown.innerHTML = results.map(result => {
          const clickHandler = result.url ? 
            `href="${result.url}"` : 
            `href="#" onclick="scrollToElement(event, this)" data-element-text="${encodeURIComponent(result.title)}"`;
          
          return `
            <a ${clickHandler} style="
              display: block;
              padding: 0.75rem 1rem;
              text-decoration: none;
              color: #3a185c;
              border-bottom: 1px solid #eee;
              transition: background 0.2s;
            " onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='white'">
              <div style="font-weight: bold;">${highlightQuery(result.title, query)}</div>
              <div style="font-size: 0.85rem; color: #666; text-transform: capitalize;">${result.type}</div>
              ${result.context ? `<div style="font-size: 0.8rem; color: #888; margin-top: 2px;">${highlightQuery(result.context, query)}</div>` : ''}
            </a>
          `;
        }).join('');
        
        resultsDropdown.style.display = 'block';
      }
      
      function highlightQuery(text, query) {
        const regex = new RegExp(`(${escapeRegex(query)})`, 'gi');
        return text.replace(regex, '<mark style="background: yellow; padding: 0;">$1</mark>');
      }
      
      function escapeRegex(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      }
      
      // Function to scroll to elements on the same page
      window.scrollToElement = function(event, link) {
        event.preventDefault();
        const elementText = decodeURIComponent(link.getAttribute('data-element-text'));
        
        // Find the element with matching text
        const elements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, .organizer-row');
        for (let element of elements) {
          if (element.textContent.includes(elementText.split('...')[0])) {
            element.scrollIntoView({ behavior: 'smooth', block: 'center' });
            resultsDropdown.style.display = 'none';
            searchInput.value = '';
            break;
          }
        }
      };
      
      // Hide results when clicking outside
      document.addEventListener('click', function(e) {
        if (!searchContainer.contains(e.target)) {
          resultsDropdown.style.display = 'none';
        }
      });
    });

    // Nav bar hide/show on scroll for mobile
    (function() {
      let nav = document.querySelector('.nav');
      let lastScrollY = window.scrollY;
      
      function handleNavVisibility() {
        if (window.innerWidth > 360) {
          nav.style.top = '';
          return;
        }
        
        if (window.scrollY <= 0) {
          nav.style.top = '0';
        } else if (window.scrollY > lastScrollY) {
          nav.style.top = '-80px';
        } else {
          nav.style.top = '0';
        }
        
        lastScrollY = window.scrollY;
      }
      
      document.addEventListener('DOMContentLoaded', handleNavVisibility);
      window.addEventListener('resize', handleNavVisibility);
      window.addEventListener('scroll', handleNavVisibility);
    })();

      window.addEventListener('resize', handleNavVisibility);
      window.addEventListener('scroll', handleNavVisibility);  
  </script>
</body>
</html>